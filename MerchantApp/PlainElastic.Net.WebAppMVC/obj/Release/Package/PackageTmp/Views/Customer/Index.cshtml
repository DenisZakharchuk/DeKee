
@{
    ViewBag.Title = "Customers";
    Layout = "~/Views/Shared/_PostLoginLayout.cshtml";


    var lnkAttr = new Dictionary<string, object>();
    lnkAttr.Add("class", "btn btn-default");
    var routeVals = new RouteValueDictionary();
}

<div class="row">

    <div class="col-md-10">
        <h2 class="mb-3">
            <span class="text-muted">Your Customers</span>
        </h2>
    </div>
    <div class="col-md-2"><a href="/Customer/CreateCustomer" class="btn btn-primary">+ Create</a></div>
    <div class="col-lg-8 col-md-12">
        <input type="text" class="form-control search wide-control" placeholder="phone number, name..." />
        @*<a class="btn btn-default" onclick="search()">Go!</a>*@
    </div>
</div>

<br />

<div class="row items">

</div>
@section scripts
{
    <script type="text/javascript">
        (function () {
            $(document).ready(function () {
                $("input.search").keyup(search)
            });
            $(document).ready(search);
        })();

        function search() {
            var q = $("input.search").val();

            $.post("/Customer/List", { searchQuery: q }).then(function (data) {
                $(".items").html(data)
            })
        }

        search();
    </script>
}
